<mat-card class="create-article-card">
  <mat-card-title>Nouvel Article</mat-card-title>

  <form [formGroup]="form" (ngSubmit)="submit()">
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Th√®me</mat-label>
      <mat-select formControlName="topicId" required>
        <mat-option *ngFor="let topic of topics" [value]="topic.id">
          {{ topic.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Titre</mat-label>
      <input matInput formControlName="title" maxlength="100" required>
      <mat-hint align="end">{{ form.value.title?.length || 0 }}/100</mat-hint>
    </mat-form-field>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Contenu</mat-label>
      <textarea matInput formControlName="content" rows="6" required></textarea>
    </mat-form-field>

    <div class="actions">
      <button mat-raised-button color="primary" type="submit" [disabled]="loading">
        Publier
      </button>
      <button mat-button type="button" (click)="cancel()">
        Annuler
      </button>
    </div>

    <div *ngIf="error" class="error">{{ error }}</div>
    <div *ngIf="loading" class="loading"><mat-spinner diameter="24"></mat-spinner></div>
  </form>
</mat-card>